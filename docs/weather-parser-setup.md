# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–∞—Ä—Å–µ—Ä–∞ –ø–æ–≥–æ–¥—ã –Ø–Ω–¥–µ–∫—Å

## üå¶Ô∏è –ê–ª–≥–æ—Ä–∏—Ç–º —Ä–∞–±–æ—Ç—ã

–°–æ–∑–¥–∞–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–∞—Ä—Å–µ—Ä –∫–æ—Ç–æ—Ä—ã–π:
- ‚úÖ –û–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∫–∞–∂–¥—ã–π —á–∞—Å
- ‚úÖ –ü–∞—Ä—Å–∏—Ç –¥–∞–Ω–Ω—ã–µ —Å –Ø–Ω–¥–µ–∫—Å.–ü–æ–≥–æ–¥—ã
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- ‚úÖ –ö–µ—à–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ—à–∏–±–∫–∏
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç fallback –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏

## ‚ö†Ô∏è –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –±—Ä–∞—É–∑–µ—Ä–∞

**CORS (Cross-Origin Resource Sharing)** –±–ª–æ–∫–∏—Ä—É–µ—Ç –ø—Ä—è–º—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∫ –Ø–Ω–¥–µ–∫—Å—É –∏–∑ –±—Ä–∞—É–∑–µ—Ä–∞.

–¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å: 
- üî¥ –ü—Ä—è–º–æ–π –∑–∞–ø—Ä–æ—Å –∫ `yandex.ru` –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω
- üü° –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–µ fallback –¥–∞–Ω–Ω—ã–µ
- üü¢ –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∂–¥—ã–π —á–∞—Å

## üîß –†–µ—à–µ–Ω–∏—è –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ü—Ä–æ–∫—Å–∏-—Å–µ—Ä–≤–µ—Ä (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

–°–æ–∑–¥–∞—Ç—å –ø—Ä–æ—Å—Ç–æ–π –ø—Ä–æ–∫—Å–∏ –Ω–∞ Node.js:

```javascript
// proxy-server.js
const express = require('express');
const cors = require('cors');
const axios = require('axios');

const app = express();
app.use(cors());

app.get('/api/weather', async (req, res) => {
  try {
    const response = await axios.get(
      'https://yandex.ru/pogoda/ru?lat=51.561569&lon=108.786552&from=tableau_yabro',
      {
        headers: {
          'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36'
        }
      }
    );
    res.json({ html: response.data });
  } catch (error) {
    res.status(500).json({ error: error.message });
  }
});

app.listen(3001, () => console.log('Proxy running on port 3001'));
```

–ó–∞—Ç–µ–º –∏–∑–º–µ–Ω–∏—Ç—å URL –≤ –ø–∞—Ä—Å–µ—Ä–µ:
```typescript
// –í weatherParser.ts
private readonly PROXY_URL = 'http://localhost:3001/api/weather';
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: Cloudflare Workers

```javascript
// Cloudflare Worker
export default {
  async fetch(request) {
    const response = await fetch(
      'https://yandex.ru/pogoda/ru?lat=51.561569&lon=108.786552&from=tableau_yabro'
    );
    
    const newResponse = new Response(response.body, response);
    newResponse.headers.set('Access-Control-Allow-Origin', '*');
    return newResponse;
  }
}
```

### –í–∞—Ä–∏–∞–Ω—Ç 3: Browser Extension

–°–æ–∑–¥–∞—Ç—å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –±—Ä–∞—É–∑–µ—Ä–∞ —Å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è–º–∏ –Ω–∞ cross-origin –∑–∞–ø—Ä–æ—Å—ã.

### –í–∞—Ä–∏–∞–Ω—Ç 4: Server-Side Rendering

–ü–∞—Ä—Å–∏–Ω–≥ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ (Next.js, Nuxt.js) –≤ API routes.

## üìã –¢–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è

```typescript
// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫ –ø–∞—Ä—Å–µ—Ä–∞
weatherParser.startAutoUpdate();

// –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
const unsubscribe = weatherParser.onWeatherUpdate((data) => {
  console.log('–ù–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –ø–æ–≥–æ–¥—ã:', data);
});

// –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
weatherParser.forceUpdate();

// –ü–æ–ª—É—á–∏—Ç—å –∫–µ—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
const { data, lastUpdate } = weatherParser.getLastData();
```

## üéØ –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –∞–ª–≥–æ—Ä–∏—Ç–º–∞

1. **–£–º–Ω—ã–π fallback**: –ü—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –Ø–Ω–¥–µ–∫—Å–∞ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –ø—Ä–∞–≤–¥–æ–ø–æ–¥–æ–±–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Å –≤–∞—Ä–∏–∞—Ü–∏—è–º–∏
2. **–ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ**: –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –ø–æ—Å–ª–µ–¥–Ω–∏–µ –¥–∞–Ω–Ω—ã–µ –≤ –ø–∞–º—è—Ç–∏
3. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫**: Graceful fallback –±–µ–∑ –∫—Ä–∞—à–µ–π
4. **–ü–æ–¥–ø–∏—Å–∫–∏**: Reactive –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–ª—è UI
5. **–ü–∞–º—è—Ç—å**: –ê–≤—Ç–æ–æ—á–∏—Å—Ç–∫–∞ –ø—Ä–∏ —Ä–∞–∑–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞

## üöÄ –ó–∞–ø—É—Å–∫ –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ

1. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø—Ä–æ–∫—Å–∏-—Å–µ—Ä–≤–µ—Ä –∏–ª–∏ Cloudflare Worker
2. –û–±–Ω–æ–≤–∏—Ç—å `YANDEX_URL` –≤ `weatherParser.ts`
3. –î–µ–ø–ª–æ–∏—Ç—å –∏ –Ω–∞—Å–ª–∞–∂–¥–∞—Ç—å—Å—è —Ä–µ–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏!

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

–ü–∞—Ä—Å–µ—Ä –ª–æ–≥–∏—Ä—É–µ—Ç –≤—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤ –∫–æ–Ω—Å–æ–ª—å:
- `üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–≥–æ–¥—ã...` - –ù–∞—á–∞–ª–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
- `‚úÖ –ü–æ–≥–æ–¥–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ` - –£—Å–ø–µ—à–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ  
- `‚ùå –û—à–∏–±–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø–æ–≥–æ–¥—ã` - –û—à–∏–±–∫–∞ —Å –¥–µ—Ç–∞–ª—è–º–∏
- `üìä –ò—Å–ø–æ–ª—å–∑—É–µ–º —Ä–µ–∑–µ—Ä–≤–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ` - Fallback –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω

## üîÆ –ë—É–¥—É—â–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Official Yandex Weather API
- [ ] Geolocation –¥–ª—è –∞–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç
- [ ] Push —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Ä–µ–∑–∫–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö –ø–æ–≥–æ–¥—ã
- [ ] –ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–æ–µ –Ω–∞–∫–æ–ø–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
- [ ] ML –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ç—Ä–µ–Ω–¥–æ–≤