# üî• –î–ò–ê–ì–ù–û–°–¢–ò–ß–ï–°–ö–ò–ô –û–¢–ß–ï–¢ –°–ï–†–í–ï–†–ê

## ‚ùå –ù–ê–ô–î–ï–ù–ù–´–ï –ü–†–û–ë–õ–ï–ú–´

### 1. **–ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –û–®–ò–ë–ö–ê**: –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ë–î
**–ü—Ä–æ–±–ª–µ–º–∞**: –í –∏—Å—Ö–æ–¥–Ω–æ–º –∫–æ–¥–µ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–ª–∞—Å—å —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ, –Ω–æ –º–µ—Ç–æ–¥ `initialize()` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç Promise.
```typescript
// –ë–´–õ–û (–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ):
DatabaseService.getInstance().initialize(); // Promise –Ω–µ –æ–∂–∏–¥–∞–ª—Å—è
app.listen(PORT, () => { ... }); // –°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—Å–∫–∞–ª—Å—è —Å—Ä–∞–∑—É
```

**–†–µ—à–µ–Ω–∏–µ**: ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û
```typescript
// –°–¢–ê–õ–û (–ø—Ä–∞–≤–∏–ª—å–Ω–æ):
async function startServer() {
  await DatabaseService.getInstance().initialize(); // –û–∂–∏–¥–∞–µ–º Promise
  app.listen(PORT, () => { ... }); // –ó–∞–ø—É—Å–∫–∞–µ–º —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –ë–î
}
```

### 2. **–ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –û–®–ò–ë–ö–ê**: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø—É—Ç—å –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
**–ü—Ä–æ–±–ª–µ–º–∞**: –ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ `cd server && tsx src/app.ts` —Ä–∞–±–æ—á–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è `server/`, –Ω–æ –∫–æ–¥ –ø—ã—Ç–∞–ª—Å—è –Ω–∞–π—Ç–∏ –ë–î –ø–æ –ø—É—Ç–∏ `server/server/database.sqlite`.

```typescript
// –ë–´–õ–û (–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ):
const dbPath = path.join(process.cwd(), 'server', 'database.sqlite');
// –ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ –∏–∑ server/ —ç—Ç–æ –¥–∞–≤–∞–ª–æ: server/server/database.sqlite
```

**–†–µ—à–µ–Ω–∏–µ**: ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û
```typescript
// –°–¢–ê–õ–û (–ø—Ä–∞–≤–∏–ª—å–Ω–æ):
const dbPath = path.join(process.cwd(), 'database.sqlite');
// –¢–µ–ø–µ—Ä—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ: server/database.sqlite
```

## ‚úÖ –ü–†–û–í–ï–†–ï–ù–ù–´–ï –ö–û–ú–ü–û–ù–ï–ù–¢–´

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤
- ‚úÖ `server/src/app.ts` - –æ—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- ‚úÖ `server/src/routes/auth.ts` - –º–∞—Ä—à—Ä—É—Ç—ã –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- ‚úÖ `server/src/routes/users.ts` - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –º–∞—Ä—à—Ä—É—Ç—ã
- ‚úÖ `server/src/routes/admin.ts` - –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã
- ‚úÖ `server/src/middleware/auth.ts` - middleware –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- ‚úÖ `server/src/middleware/errorHandler.ts` - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- ‚úÖ `server/src/services/DatabaseService.ts` - —Å–µ—Ä–≤–∏—Å –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ `server/.env` - –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

### –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤ package.json
- ‚úÖ `tsx`: 4.20.4 (–¥–ª—è –∑–∞–ø—É—Å–∫–∞ TypeScript)
- ‚úÖ `express`: 5.1.0 (–≤–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫)
- ‚úÖ `cors`: 2.8.5 (CORS middleware)
- ‚úÖ `helmet`: 8.1.0 (–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å)
- ‚úÖ `morgan`: 1.10.1 (–ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ)
- ‚úÖ `express-rate-limit`: 8.0.1 (rate limiting)
- ‚úÖ `dotenv`: 17.2.1 (–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è)
- ‚úÖ `bcryptjs`: 3.0.2 (—Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π)
- ‚úÖ `jsonwebtoken`: 9.0.2 (JWT —Ç–æ–∫–µ–Ω—ã)
- ‚úÖ `sqlite3`: 5.1.7 (–±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö)

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- ‚úÖ PORT=3001 –≤ .env
- ‚úÖ JWT_SECRET –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- ‚úÖ NODE_ENV=development
- ‚úÖ DB_PATH=./database.sqlite

## üöÄ –ö–û–ú–ê–ù–î–´ –î–õ–Ø –ó–ê–ü–£–°–ö–ê

### –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:
```bash
cd server && tsx src/app.ts
```

### –î–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏:
```bash
node full-server-diagnostic.js
node simple-server-check.js
```

## üìä –û–ñ–ò–î–ê–ï–ú–´–ô –†–ï–ó–£–õ–¨–¢–ê–¢

–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π —Å–µ—Ä–≤–µ—Ä –¥–æ–ª–∂–µ–Ω:

1. **–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö**:
   ```
   üîÑ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...
   ‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö SQLite –ø–æ–¥–∫–ª—é—á–µ–Ω–∞
   ‚úÖ –¢–∞–±–ª–∏—Ü—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω—ã
   ‚úÖ –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä —Å–æ–∑–¥–∞–Ω: smm@gelazutdinov.ru
   ‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞
   ```

2. **–ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä**:
   ```
   üöÄ –°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω –Ω–∞ –ø–æ—Ä—Ç—É 3001
   üìä API –¥–æ—Å—Ç—É–ø–Ω–æ –ø–æ –∞–¥—Ä–µ—Å—É: http://localhost:3001/api
   üè• Health check: http://localhost:3001/api/health
   ```

3. **–û—Ç–≤–µ—á–∞—Ç—å –Ω–∞ –∑–∞–ø—Ä–æ—Å—ã**:
   - `GET http://localhost:3001/api/health` - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è
   - `POST http://localhost:3001/api/auth/register` - —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
   - `POST http://localhost:3001/api/auth/login` - –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

## üõ†Ô∏è –í–û–ó–ú–û–ñ–ù–´–ï –ü–†–û–ë–õ–ï–ú–´ –ò –†–ï–®–ï–ù–ò–Ø

### –ï—Å–ª–∏ –ø–æ—Ä—Ç 3001 –∑–∞–Ω—è—Ç:
```bash
# –ù–∞–π—Ç–∏ –ø—Ä–æ—Ü–µ—Å—Å
lsof -ti:3001

# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–æ—Ü–µ—Å—Å
pkill -f "tsx.*app.ts"
# –∏–ª–∏
kill $(lsof -ti:3001)
```

### –ï—Å–ª–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
```bash
npm install
```

### –ï—Å–ª–∏ tsx –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:
```bash
npm install tsx --save-dev
# –∏–ª–∏ –≥–ª–æ–±–∞–ª—å–Ω–æ
npm install -g tsx
```

## üéØ –ò–¢–û–ì–û–í–´–ô –°–¢–ê–¢–£–°

üü¢ **–ü–†–û–ë–õ–ï–ú–´ –ò–°–ü–†–ê–í–õ–ï–ù–´** - –°–µ—Ä–≤–µ—Ä –¥–æ–ª–∂–µ–Ω –∑–∞–ø—É—Å–∫–∞—Ç—å—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫

‚úÖ –û—Å–Ω–æ–≤–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
1. –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
2. –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø—É—Ç—å –∫ —Ñ–∞–π–ª—É –ë–î
3. –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∑–∞–ø—É—Å–∫–∞

üöÄ **–ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –∑–∞–ø—É—Å–∫–∞**: `cd server && tsx src/app.ts`